# exercises/python/collections.yaml
language: python
category: collections

exercises:
  # --- Lists Subconcept (additional) ---
  - slug: list-create-empty
    objective: Create an empty list using bracket notation
    title: Create Empty List
    difficulty: 1
    concept: collections
    subconcept: lists
    level: intro
    prereqs: [foundations]
    type: write
    pattern: construction
    prompt: Create an empty list called items
    expected_answer: items = []
    hints:
      - Use empty square brackets []
      - Assign to the variable name items
    tags: [lists, creation, beginner]

  - slug: list-create-values
    objective: Create a list with initial values using literal syntax
    title: Create List with Values
    difficulty: 1
    concept: collections
    subconcept: lists
    level: intro
    prereqs: [foundations]
    type: write
    pattern: construction
    prompt: Create a list with values 1, 2, 3
    expected_answer: "[1, 2, 3]"
    hints:
      - Use square brackets
      - Separate with commas
    tags: [lists, creation, beginner]

  - slug: list-in-check
    objective: Use the in operator to check list membership
    title: List Membership
    difficulty: 1
    concept: collections
    subconcept: lists
    level: intro
    prereqs: [collections.lists]
    type: write
    pattern: query
    prompt: Check if value 5 is in list items
    expected_answer: 5 in items
    hints:
      - Use the 'in' keyword between value and list
      - Returns True if found, False otherwise
    tags: [lists, membership, check]

  - slug: list-extend-method
    objective: Use extend() to add multiple elements from another iterable
    title: List Extend
    difficulty: 2
    concept: collections
    subconcept: lists
    level: practice
    prereqs: [collections.lists]
    type: write
    pattern: mutation
    prompt: Extend list a with elements from list b
    expected_answer: a.extend(b)
    hints:
      - Use the extend() method
      - Adds all elements from b to a
    tags: [lists, extend, mutation]

  # Static list-insert removed - covered by list-insert-dynamic

  - slug: list-pop-index
    objective: Use pop() to remove and return an element by index
    title: List Pop at Index
    difficulty: 2
    concept: collections
    subconcept: lists
    level: practice
    prereqs: [collections.lists]
    type: write
    pattern: mutation
    prompt: Remove and return the element at index 2 from list items
    expected_answer: items.pop(2)
    hints:
      - Use pop() with the index as argument
      - pop() both removes and returns the element
    tags: [lists, pop, mutation]

  - slug: list-index
    objective: Use index() to find the position of an element
    title: List Find Index
    difficulty: 2
    concept: collections
    subconcept: lists
    level: practice
    prereqs: [collections.lists]
    type: write
    pattern: query
    prompt: Find the index of value "apple" in list items
    expected_answer: items.index("apple")
    accepted_solutions:
      - 'items.index("apple")'
      - "items.index('apple')"
    hints:
      - Use the index() method with the value to find
      - Returns the first position where the value is found
    tags: [lists, index, query]

  - slug: list-count
    objective: Use count() to find how many times an element appears
    title: List Count
    difficulty: 2
    concept: collections
    subconcept: lists
    level: practice
    prereqs: [collections.lists]
    type: write
    pattern: query
    prompt: Count occurrences of value 5 in list items
    expected_answer: items.count(5)
    hints:
      - Use the count() method with the value to count
      - Returns 0 if not found, otherwise the count
    tags: [lists, count, query]

  - slug: list-sort
    objective: Use sort() to order list elements in place
    title: List Sort
    difficulty: 2
    concept: collections
    subconcept: lists
    level: practice
    prereqs: [collections.lists]
    type: write
    pattern: mutation
    prompt: Sort list items in place
    expected_answer: items.sort()
    hints:
      - Use the sort() method
      - Modifies the list in place
    tags: [lists, sort, mutation]

  - slug: list-sorted
    objective: Use sorted() to create a new sorted list without modifying the original
    title: Sorted Copy
    difficulty: 2
    concept: collections
    subconcept: lists
    level: edge
    prereqs: [collections.lists]
    type: write
    pattern: construction
    prompt: Return a sorted copy of list items without modifying it
    expected_answer: sorted(items)
    hints:
      - Use sorted() function
      - Returns new list
    tags: [lists, sorted, copy]

  - slug: list-reverse
    objective: Use reverse() to reverse list order in place
    title: List Reverse
    difficulty: 2
    concept: collections
    subconcept: lists
    level: practice
    prereqs: [collections.lists]
    type: write
    pattern: mutation
    prompt: Reverse list items in place
    expected_answer: items.reverse()
    hints:
      - Use the reverse() method on the list
      - Modifies the list in place (returns None)
    tags: [lists, reverse, mutation]

  # --- Tuples Subconcept ---
  - slug: tuple-create
    objective: Create a tuple using parentheses and comma-separated values
    title: Create Tuple
    difficulty: 1
    concept: collections
    subconcept: tuples
    level: intro
    prereqs: [foundations]
    type: write
    pattern: construction
    prompt: Create a tuple with values 1, 2, 3
    expected_answer: (1, 2, 3)
    hints:
      - Use parentheses
      - Separate with commas
    tags: [tuples, creation, beginner]

  - slug: tuple-single
    objective: Create a single-element tuple with trailing comma syntax
    title: Single Element Tuple
    difficulty: 2
    concept: collections
    subconcept: tuples
    level: practice
    prereqs: [collections.tuples]
    type: write
    pattern: construction
    prompt: Create a tuple with single element 5 (note the syntax)
    expected_answer: (5,)
    hints:
      - Need trailing comma for single element
      - (5) is just the number 5
    tags: [tuples, creation, edge]

  - slug: tuple-unpack
    objective: Use tuple unpacking to assign multiple variables at once
    title: Tuple Unpacking
    difficulty: 2
    concept: collections
    subconcept: tuples
    level: practice
    prereqs: [collections.tuples]
    type: write
    pattern: assignment
    prompt: Unpack tuple point = (3, 4) into variables x and y
    expected_answer: x, y = point
    hints:
      - Variables go on left, tuple on right of =
      - Number of variables must match tuple length
    tags: [tuples, unpacking, assignment]

  - slug: tuple-index
    objective: Access tuple elements using index notation
    title: Tuple Indexing
    difficulty: 1
    concept: collections
    subconcept: tuples
    level: intro
    prereqs: [collections.tuples]
    type: write
    pattern: indexing
    prompt: Get the second element of tuple t
    expected_answer: t[1]
    hints:
      - Indices start at 0, so second element is index 1
      - Use square brackets like lists
    tags: [tuples, indexing, access]

  # --- Dicts Subconcept ---
  - slug: dict-create-empty
    objective: Create an empty dictionary using brace notation
    title: Create Empty Dict
    difficulty: 1
    concept: collections
    subconcept: dicts
    level: intro
    prereqs: [foundations]
    type: write
    pattern: construction
    prompt: Create an empty dictionary called data
    expected_answer: data = {}
    hints:
      - Use empty curly braces {}
      - Not the same as empty set (use set() for empty set)
    tags: [dicts, creation, beginner]

  - slug: dict-create-values
    objective: Create a dictionary with initial key-value pairs
    title: Create Dict with Values
    difficulty: 1
    concept: collections
    subconcept: dicts
    level: intro
    prereqs: [foundations]
    type: write
    pattern: construction
    prompt: Create a dict with key "name" and value "Alice"
    expected_answer: '{"name": "Alice"}'
    accepted_solutions:
      - '{"name": "Alice"}'
      - "{'name': 'Alice'}"
    hints:
      - Use curly braces
      - "Format is key: value"
    tags: [dicts, creation, beginner]

  - slug: dict-bracket-access
    objective: Access dictionary values using bracket notation with keys
    title: Dict Access
    difficulty: 1
    concept: collections
    subconcept: dicts
    level: intro
    prereqs: [collections.dicts]
    type: write
    pattern: indexing
    prompt: Get the value for key "name" from dict d
    expected_answer: d["name"]
    accepted_solutions:
      - 'd["name"]'
      - "d['name']"
    hints:
      - Use square brackets with the key inside
      - Raises KeyError if key doesn't exist
    tags: [dicts, access, beginner]

  - slug: dict-get-default
    objective: Use get() to safely access values with a fallback default
    title: Dict Get with Default
    difficulty: 2
    concept: collections
    subconcept: dicts
    level: practice
    prereqs: [collections.dicts]
    type: write
    pattern: query
    prompt: Get value for key "age" from dict d, returning 0 if not found
    expected_answer: d.get("age", 0)
    accepted_solutions:
      - 'd.get("age", 0)'
      - "d.get('age', 0)"
    hints:
      - Use get() method
      - Second arg is default
    tags: [dicts, get, safe-access]

  - slug: dict-set-item
    objective: Assign a value to a dictionary key using bracket notation
    title: Dict Set Value
    difficulty: 1
    concept: collections
    subconcept: dicts
    level: intro
    prereqs: [collections.dicts]
    type: write
    pattern: mutation
    prompt: Set the key "age" to value 25 in dict d
    expected_answer: d["age"] = 25
    accepted_solutions:
      - 'd["age"] = 25'
      - "d['age'] = 25"
    hints:
      - Assignment with square brackets
      - Creates key if it doesn't exist
    tags: [dicts, update, mutation]

  - slug: dict-keys-method
    objective: Use keys() to retrieve all keys from a dictionary
    title: Dict Keys
    difficulty: 1
    concept: collections
    subconcept: dicts
    level: intro
    prereqs: [collections.dicts]
    type: write
    pattern: query
    prompt: Get all keys from dict d
    expected_answer: d.keys()
    hints:
      - Use the keys() method
      - Returns a view object of all keys
    tags: [dicts, keys, query]

  - slug: dict-values
    objective: Use values() to retrieve all values from a dictionary
    title: Dict Values
    difficulty: 1
    concept: collections
    subconcept: dicts
    level: intro
    prereqs: [collections.dicts]
    type: write
    pattern: query
    prompt: Get all values from dict d
    expected_answer: d.values()
    hints:
      - Use the values() method
      - Returns a view object of all values
    tags: [dicts, values, query]

  - slug: dict-items
    objective: Use items() to get key-value pairs as tuples for iteration
    title: Dict Items
    difficulty: 2
    concept: collections
    subconcept: dicts
    level: practice
    prereqs: [collections.dicts]
    type: write
    pattern: query
    prompt: Get all key-value pairs from dict d as tuples
    expected_answer: d.items()
    hints:
      - Use the items() method
      - Returns (key, value) pairs
    tags: [dicts, items, query]

  - slug: dict-pop
    objective: Use pop() to remove a key and return its value
    title: Dict Pop
    difficulty: 2
    concept: collections
    subconcept: dicts
    level: practice
    prereqs: [collections.dicts]
    type: write
    pattern: mutation
    prompt: Remove and return the value for key "name" from dict d
    expected_answer: d.pop("name")
    accepted_solutions:
      - 'd.pop("name")'
      - "d.pop('name')"
    hints:
      - Use the pop() method
      - Pop removes the key and returns its value
    tags: [dicts, pop, mutation]

  - slug: dict-in-check
    objective: Use the in operator to check if a key exists in a dictionary
    title: Dict Key Check
    difficulty: 1
    concept: collections
    subconcept: dicts
    level: intro
    prereqs: [collections.dicts]
    type: write
    pattern: query
    prompt: Check if key "name" exists in dict d
    expected_answer: '"name" in d'
    accepted_solutions:
      - '"name" in d'
      - "'name' in d"
    hints:
      - Use 'in' keyword
      - Checks keys not values
    tags: [dicts, membership, check]

  # --- Sets Subconcept ---
  - slug: set-create
    objective: Create a set with initial values using brace notation
    title: Create Set
    difficulty: 1
    concept: collections
    subconcept: sets
    level: intro
    prereqs: [foundations]
    type: write
    pattern: construction
    prompt: Create a set with values 1, 2, 3
    expected_answer: "{1, 2, 3}"
    hints:
      - Use curly braces
      - Similar to dict but no colons
    tags: [sets, creation, beginner]

  - slug: set-add
    objective: Use add() to insert a single element into a set
    title: Set Add
    difficulty: 1
    concept: collections
    subconcept: sets
    level: intro
    prereqs: [collections.sets]
    type: write
    pattern: mutation
    prompt: Add value 5 to set s
    expected_answer: s.add(5)
    hints:
      - Use the add() method
      - Sets only store unique values
    tags: [sets, add, mutation]

  - slug: set-remove
    objective: Use remove() to delete an element with error on missing
    title: Set Remove
    difficulty: 2
    concept: collections
    subconcept: sets
    level: practice
    prereqs: [collections.sets]
    type: write
    pattern: mutation
    prompt: Remove value 5 from set s (raises error if not found)
    expected_answer: s.remove(5)
    hints:
      - Use the remove() method
      - Use discard() if you want to avoid KeyError
    tags: [sets, remove, mutation]

  - slug: set-discard
    objective: Use discard() to safely remove an element without raising errors
    title: Set Discard
    difficulty: 2
    concept: collections
    subconcept: sets
    level: practice
    prereqs: [collections.sets]
    type: write
    pattern: mutation
    prompt: Remove value 5 from set s if present (no error if not found)
    expected_answer: s.discard(5)
    hints:
      - Use the discard() method
      - Safer than remove()
    tags: [sets, discard, mutation]

  - slug: set-union
    objective: Apply set union to combine elements from two sets
    title: Set Union
    difficulty: 2
    concept: collections
    subconcept: sets
    level: practice
    prereqs: [collections.sets]
    type: write
    pattern: construction
    prompt: Get the union of sets a and b
    expected_answer: a | b
    accepted_solutions:
      - a | b
      - a.union(b)
    hints:
      - Use | operator
      - Or union() method
    tags: [sets, union, operation]

  - slug: set-intersection
    objective: Apply set intersection to find common elements
    title: Set Intersection
    difficulty: 2
    concept: collections
    subconcept: sets
    level: practice
    prereqs: [collections.sets]
    type: write
    pattern: construction
    prompt: Get the intersection of sets a and b
    expected_answer: a & b
    accepted_solutions:
      - a & b
      - a.intersection(b)
    hints:
      - Use & operator
      - Elements in both sets
    tags: [sets, intersection, operation]

  - slug: set-difference
    objective: Apply set difference to find elements unique to one set
    title: Set Difference
    difficulty: 2
    concept: collections
    subconcept: sets
    level: practice
    prereqs: [collections.sets]
    type: write
    pattern: construction
    prompt: Get elements in set a but not in set b
    expected_answer: a - b
    accepted_solutions:
      - a - b
      - a.difference(b)
    hints:
      - Use - operator
      - Or use difference() method
    tags: [sets, difference, operation]

  # --- Unpacking Subconcept ---
  - slug: unpacking-intro
    objective: Unpack a tuple into individual variables
    title: Basic Tuple Unpacking
    difficulty: 1
    concept: collections
    subconcept: unpacking
    level: intro
    prereqs: [collections.tuples]
    type: write
    pattern: assignment
    prompt: Unpack the tuple point = (3, 5) into variables x and y
    expected_answer: "x, y = point"
    accepted_solutions:
      - "x, y = point"
      - "(x, y) = point"
    hints:
      - Variables on the left, tuple on the right
      - Number of variables must match tuple length
    tags: [unpacking, intro, tuples]

  - slug: unpacking-list-intro
    objective: Unpack a list into individual variables
    title: List Unpacking
    difficulty: 1
    concept: collections
    subconcept: unpacking
    level: intro
    prereqs: [collections.lists]
    type: write
    pattern: assignment
    prompt: Unpack colors = ["red", "green", "blue"] into variables a, b, c
    expected_answer: "a, b, c = colors"
    hints:
      - Same syntax as tuple unpacking
      - Works with any iterable
    tags: [unpacking, intro, lists]

  - slug: unpacking-swap-intro
    objective: Use unpacking to swap two variables
    title: Variable Swap
    difficulty: 1
    concept: collections
    subconcept: unpacking
    level: intro
    prereqs: [collections.unpacking]
    type: write
    pattern: assignment
    prompt: Swap the values of variables a and b using unpacking (one line)
    expected_answer: "a, b = b, a"
    hints:
      - Python evaluates the right side first
      - No temp variable needed
    tags: [unpacking, intro, swap]

  - slug: star-unpack
    objective: Use star unpacking to capture remaining elements into a list
    title: Star Unpacking
    difficulty: 2
    concept: collections
    subconcept: unpacking
    level: edge
    prereqs: [collections.lists, collections.tuples]
    type: write
    pattern: assignment
    prompt: Unpack first element to a, rest to remaining from list [1, 2, 3, 4]
    expected_answer: a, *remaining = [1, 2, 3, 4]
    hints:
      - Use * for rest elements
      - remaining will be [2, 3, 4]
    tags: [unpacking, star, advanced]

  - slug: unpack-function-args
    objective: Use star operator to unpack a list as positional arguments
    title: Unpack into Function
    difficulty: 2
    concept: collections
    subconcept: unpacking
    level: edge
    prereqs: [collections.lists]
    type: write
    pattern: construction
    prompt: Call function func with list args unpacked as positional arguments
    expected_answer: func(*args)
    hints:
      - Use * to unpack list
      - Turns [1, 2, 3] into func(1, 2, 3)
    tags: [unpacking, function, splat]

  - slug: unpack-dict-kwargs
    objective: Use double-star operator to unpack a dict as keyword arguments
    title: Unpack Dict to Kwargs
    difficulty: 2
    concept: collections
    subconcept: unpacking
    level: edge
    prereqs: [collections.dicts]
    type: write
    pattern: construction
    prompt: Call function func with dict kwargs unpacked as keyword arguments
    expected_answer: func(**kwargs)
    hints:
      - Use ** to unpack dict
      - 'Turns {"a": 1} into func(a=1)'
    tags: [unpacking, function, kwargs]

  # --- Mutability Subconcept ---
  - slug: mutable-default-trap
    objective: Recognize and avoid mutable default argument issues
    title: Mutable Default Trap
    difficulty: 2
    concept: collections
    subconcept: mutability
    level: intro
    prereqs: [collections.lists, fn-basics]
    type: write
    pattern: definition
    prompt: Define append_to(item, target=None) avoiding mutable default
    expected_answer: |
      def append_to(item, target=None):
          if target is None:
              target = []
          target.append(item)
          return target
    hints:
      - Never use [] or {} as default
      - Use None and create inside function
    tags: [mutability, lists, functions]

  - slug: list-aliasing
    objective: Demonstrate understanding of list aliasing behavior
    title: List Aliasing
    difficulty: 2
    concept: collections
    subconcept: mutability
    level: intro
    prereqs: [collections.lists]
    type: write
    pattern: assignment
    prompt: Create list b that references the same list as a (not a copy)
    expected_answer: b = a
    hints:
      - Simple assignment creates an alias
      - Both names point to same object
    tags: [mutability, lists, aliasing]

  - slug: shallow-copy-method
    objective: Create a shallow copy of a list using the copy method
    title: Shallow Copy with .copy()
    difficulty: 2
    concept: collections
    subconcept: mutability
    level: practice
    prereqs: [collections.lists, collections.mutability]
    type: write
    pattern: construction
    prompt: Create a shallow copy of list items using the copy method
    expected_answer: items.copy()
    hints:
      - Use the .copy() method
      - Returns a new list with same elements
    tags: [mutability, lists, copy]

  - slug: shallow-copy-constructor
    objective: Create a shallow copy of a list using the list constructor
    title: Shallow Copy with list()
    difficulty: 2
    concept: collections
    subconcept: mutability
    level: practice
    prereqs: [collections.lists, collections.mutability]
    type: write
    pattern: construction
    prompt: Create a shallow copy of list items using the list constructor
    expected_answer: list(items)
    hints:
      - Pass list to list() constructor
      - Creates new list from existing
    tags: [mutability, lists, copy]

  - slug: deep-copy
    objective: Create a deep copy of a nested structure using copy.deepcopy
    title: Deep Copy
    difficulty: 3
    concept: collections
    subconcept: mutability
    level: practice
    prereqs: [lists, mutability, imports]
    type: write
    pattern: construction
    prompt: Create a deep copy of nested list items using copy module
    expected_answer: copy.deepcopy(items)
    hints:
      - Import copy module first
      - Use copy.deepcopy() for nested structures
    tags: [mutability, lists, deep-copy]

  - slug: mutate-vs-reassign
    objective: Distinguish between in-place mutation and variable reassignment
    title: Mutate in Place vs Reassign
    difficulty: 3
    concept: collections
    subconcept: mutability
    level: edge
    prereqs: [collections.lists, collections.mutability]
    type: write
    pattern: mutation
    prompt: Extend list items in place with [4, 5] (don't reassign)
    expected_answer: items.extend([4, 5])
    accepted_solutions:
      - items.extend([4, 5])
      - items += [4, 5]
    hints:
      - Use extend() or += for in-place
      - Reassigning items = items + [4, 5] creates new list
    tags: [mutability, lists, in-place]

  - slug: tuple-immutability
    objective: Understand that tuples cannot be modified after creation
    title: Tuple Immutability
    difficulty: 2
    concept: collections
    subconcept: mutability
    level: edge
    prereqs: [collections.tuples, collections.mutability]
    type: write
    pattern: construction
    prompt: Create new tuple by concatenating t with (4, 5) since tuples are immutable
    expected_answer: t + (4, 5)
    hints:
      - Cannot modify tuple in place
      - Must create new tuple via concatenation
    tags: [mutability, tuples, immutable]

  - slug: dict-mutable-values
    objective: Recognize that dictionary values can be mutable objects
    title: Dict with Mutable Values
    difficulty: 3
    concept: collections
    subconcept: mutability
    level: edge
    prereqs: [collections.dicts, collections.lists, collections.mutability]
    type: write
    pattern: mutation
    prompt: Append value 3 to the list stored at key "nums" in dict d
    expected_answer: d["nums"].append(3)
    accepted_solutions:
      - 'd["nums"].append(3)'
      - "d['nums'].append(3)"
    hints:
      - Access the list first with d["nums"]
      - Then call append on that list
    tags: [mutability, dicts, lists]

  # --- Fill-in Exercises ---
  - slug: list-bracket-fill
    objective: Complete list literal syntax
    title: List Bracket Fill-in
    difficulty: 1
    concept: collections
    subconcept: lists
    level: intro
    prereqs: []
    type: fill-in
    blank_position: 0
    pattern: construction
    prompt: Fill in the opening bracket for a list
    template: "items = ___1, 2, 3]"
    expected_answer: "["
    hints:
      - Opening bracket for lists
      - Lists use square brackets []
    tags: [lists, syntax, fill-in]

  - slug: dict-brace-fill
    objective: Complete dict literal syntax
    title: Dict Brace Fill-in
    difficulty: 1
    concept: collections
    subconcept: dicts
    level: intro
    prereqs: []
    type: fill-in
    blank_position: 0
    pattern: construction
    prompt: Fill in the opening brace for a dict
    template: 'data = ___"name": "Alice"}'
    expected_answer: "{"
    hints:
      - Opening brace for dicts
      - Dicts use curly braces {}
    tags: [dicts, syntax, fill-in]

  - slug: in-operator-fill
    objective: Complete membership test
    title: In Operator Fill-in
    difficulty: 1
    concept: collections
    subconcept: lists
    level: intro
    prereqs: [collections.lists]
    type: fill-in
    blank_position: 0
    pattern: query
    prompt: Fill in the membership operator
    template: "5 ___ items"
    expected_answer: "in"
    hints:
      - Membership test operator
      - Returns True or False
    tags: [collections, in, fill-in]

  # --- Predict Exercises ---
  - slug: list-append-predict
    objective: Predict list after append
    title: List Append Predict
    difficulty: 1
    concept: collections
    subconcept: lists
    level: intro
    prereqs: [collections.lists]
    type: predict
    pattern: mutation
    prompt: What does this code print?
    code: |
      items = [1, 2]
      items.append(3)
      print(items)
    expected_answer: "[1, 2, 3]"
    accepted_solutions:
      - "[1, 2, 3]"
      - "[1,2,3]"
    hints:
      - append adds to the end
      - Modifies the list in place
    tags: [lists, append, predict]

  - slug: dict-get-predict
    objective: Predict dict.get with default
    title: Dict Get Predict
    difficulty: 2
    concept: collections
    subconcept: dicts
    level: practice
    prereqs: [collections.dicts]
    type: predict
    pattern: lookup
    prompt: What does this code print?
    code: |
      d = {"a": 1}
      print(d.get("b", 0))
    expected_answer: "0"
    hints:
      - get returns default if key missing
      - Key "b" is not in the dict
    tags: [dicts, get, predict]

  - slug: set-union-predict
    objective: Predict set union result
    title: Set Union Predict
    difficulty: 2
    concept: collections
    subconcept: sets
    level: practice
    prereqs: [collections.sets]
    type: predict
    pattern: construction
    prompt: What does this code print?
    code: |
      a = {1, 2}
      b = {2, 3}
      print(a | b)
    expected_answer: "{1, 2, 3}"
    accepted_solutions:
      - "{1, 2, 3}"
      - "{1,2,3}"
      - "{1, 3, 2}"
      - "{1,3,2}"
      - "{2, 1, 3}"
      - "{2,1,3}"
      - "{2, 3, 1}"
      - "{2,3,1}"
      - "{3, 1, 2}"
      - "{3,1,2}"
      - "{3, 2, 1}"
      - "{3,2,1}"
    hints:
      - Union combines unique elements
      - Duplicates (like 2) appear only once
    tags: [sets, union, predict]

  # --- Dynamic Exercises ---
  - slug: list-indexing-dynamic
    objective: Use bracket notation to access list elements
    title: Dynamic List Indexing
    difficulty: 1
    prompt: "Given {{list_name}} = [{{a}}, {{b}}, {{c}}], what does {{list_name}}[1] return?"
    expected_answer: "{{b}}"
    hints:
      - List indices start at 0
      - "{{list_name}}[1] returns the second element"
    tags: [lists, indexing, dynamic]
    concept: collections
    subconcept: lists
    level: intro
    prereqs: []
    type: predict
    pattern: indexing
    generator: list-values
    code: |
      {{list_name}} = [{{a}}, {{b}}, {{c}}]
      print({{list_name}}[1])

  - slug: list-sum-dynamic
    objective: Predict the output of adding two numbers
    title: Dynamic Addition
    difficulty: 2
    prompt: "Given x = {{x}} and y = {{y}}, what does x + y print?"
    expected_answer: "{{sum}}"
    hints:
      - Addition is straightforward arithmetic
      - Just add {{x}} + {{y}}
    tags: [arithmetic, dynamic]
    concept: numbers-booleans
    subconcept: integers
    level: practice
    prereqs: []
    type: predict
    pattern: arithmetic
    generator: arithmetic-values
    code: |
      x = {{x}}
      y = {{y}}
      print(x + y)

  - slug: list-slice-write-dynamic
    objective: Write slice syntax to extract elements from index start to end
    title: Dynamic List Slice Write
    difficulty: 2
    prompt: "Extract elements from index {{start}} to {{end}} (exclusive) from {{list_name}}"
    expected_answer: "{{list_name}}[{{start}}:{{end}}]"
    hints:
      - List slicing uses [start:end] syntax
      - The end index is exclusive
    tags: [lists, slicing, dynamic]
    concept: collections
    subconcept: lists
    level: practice
    prereqs: [collections.lists]
    type: write
    pattern: slicing
    generator: slice-bounds
    target_construct:
      type: slice
      feedback: "Try using slice notation [start:end] for extracting a range of elements"

  - slug: list-negative-index-dynamic
    objective: Use negative indexing to access list elements from the end
    title: Dynamic Negative Index
    difficulty: 2
    prompt: "Given {{list_name}} = [{{a}}, {{b}}, {{c}}], what does {{list_name}}[-1] return?"
    expected_answer: "{{c}}"
    hints:
      - Negative indices count from the end
      - "{{list_name}}[-1] is the last element"
    tags: [lists, indexing, negative, dynamic]
    concept: collections
    subconcept: lists
    level: practice
    prereqs: [collections.lists]
    type: predict
    pattern: indexing
    generator: list-values
    code: |
      {{list_name}} = [{{a}}, {{b}}, {{c}}]
      print({{list_name}}[-1])

  - slug: list-len-dynamic
    objective: Predict the length of a list
    title: Dynamic List Length
    difficulty: 1
    prompt: "Given {{list_name}} = [{{a}}, {{b}}, {{c}}], what does len({{list_name}}) return?"
    expected_answer: "3"
    hints:
      - len() returns the number of elements
      - "Count how many {{item_plural}} are in the list"
    tags: [lists, len, dynamic]
    concept: collections
    subconcept: lists
    level: intro
    prereqs: [collections.lists]
    type: predict
    pattern: query
    generator: list-values
    code: |
      {{list_name}} = [{{a}}, {{b}}, {{c}}]
      print(len({{list_name}}))

  - slug: list-append-dynamic
    objective: Predict the result of appending an element to a list
    title: Dynamic List Append
    difficulty: 2
    prompt: "Given {{list_name}} = [{{a}}, {{b}}], what is {{list_name}} after {{list_name}}.append({{c}})?"
    expected_answer: "[{{a}}, {{b}}, {{c}}]"
    hints:
      - "append() adds a {{item_singular}} to the end"
      - The list is modified in place
    tags: [lists, append, mutation, dynamic]
    concept: collections
    subconcept: lists
    level: practice
    prereqs: [collections.lists]
    type: predict
    pattern: mutation
    generator: list-values
    code: |
      {{list_name}} = [{{a}}, {{b}}]
      {{list_name}}.append({{c}})
      print({{list_name}})

  - slug: list-pop-dynamic
    objective: Predict the value returned when popping from a list
    title: Dynamic List Pop
    difficulty: 2
    prompt: "Given {{list_name}} = [{{a}}, {{b}}, {{c}}], what does {{list_name}}.pop() return?"
    expected_answer: "{{c}}"
    hints:
      - "pop() removes and returns the last {{item_singular}}"
      - The last element is {{c}}
    tags: [lists, pop, mutation, dynamic]
    concept: collections
    subconcept: lists
    level: practice
    prereqs: [collections.lists]
    type: predict
    pattern: mutation
    generator: list-values
    code: |
      {{list_name}} = [{{a}}, {{b}}, {{c}}]
      print({{list_name}}.pop())

  - slug: list-access-index-dynamic
    objective: Write bracket notation to access a list element by index
    title: Dynamic List Access
    difficulty: 1
    prompt: "Get the {{item_singular}} at index {{idx}} from {{list_name}}"
    expected_answer: "{{list_name}}[{{idx}}]"
    hints:
      - Use square bracket notation
      - Indices start at 0
    tags: [lists, indexing, dynamic]
    concept: collections
    subconcept: lists
    level: intro
    prereqs: [collections.lists]
    type: write
    pattern: indexing
    generator: index-values

  - slug: dict-access-dynamic
    objective: Predict the result of dict key access
    title: Dynamic Dict Access
    difficulty: 1
    concept: collections
    subconcept: dicts
    level: intro
    prereqs: [collections.dicts]
    type: predict
    pattern: indexing
    generator: dict-values
    prompt: 'Given d = {{dict_str}}, what does d["{{key}}"] return?'
    code: |
      d = {{dict_str}}
      print(d["{{key}}"])
    expected_answer: "{{value}}"
    hints:
      - Look up the key in the dictionary
      - If key doesn't exist, it raises KeyError
    tags: [collections, dicts, dynamic]

  - slug: list-insert-dynamic
    objective: Use insert() to add an element at a specific position
    title: Dynamic List Insert
    difficulty: 2
    concept: collections
    subconcept: lists
    level: practice
    prereqs: [collections.lists]
    type: write
    pattern: mutation
    generator: index-values
    prompt: 'Insert a new {{item_singular}} "x" at index {{idx}} in {{list_name}}'
    expected_answer: '{{list_name}}.insert({{idx}}, "x")'
    accepted_solutions:
      - '{{list_name}}.insert({{idx}}, "x")'
      - "{{list_name}}.insert({{idx}}, 'x')"
    hints:
      - insert(index, value)
      - "{{item_plural}} at or after index shift right"
    tags: [lists, insert, mutation, dynamic]

  - slug: list-method-predict-dynamic
    objective: Predict the result of a list method or builtin function call
    title: Dynamic List Method Result
    difficulty: 2
    concept: collections
    subconcept: lists
    level: practice
    prereqs: [collections.lists]
    type: predict
    pattern: query
    generator: list-method
    prompt: "What does this code print?"
    code: "{{code}}"
    expected_answer: "{{result}}"
    hints:
      - "The {{method}}() {{description}}"
      - "Apply the method to understand what it returns"
    tags: [lists, methods, dynamic]

  - slug: nested-access-predict-dynamic
    objective: Predict the result of accessing nested data structures
    title: Dynamic Nested Access
    difficulty: 2
    concept: collections
    subconcept: dicts
    level: practice
    prereqs: [collections.dicts, collections.lists]
    type: predict
    pattern: indexing
    generator: nested-access
    prompt: "What does this code print?"
    code: "{{code}}"
    expected_answer: "{{result}}"
    hints:
      - "This is a {{description}}"
      - "Use bracket notation for both list indices and dict keys"
    tags: [collections, nested, dynamic]

  - slug: nested-access-write-dynamic
    objective: Write code to access a specific value in a nested structure
    title: Dynamic Nested Access Write
    difficulty: 2
    concept: collections
    subconcept: dicts
    level: practice
    prereqs: [collections.dicts, collections.lists]
    type: write
    pattern: indexing
    generator: nested-access
    prompt: "Given {{varName}} = {{dataStr}}, write code to access the value {{result}}"
    expected_answer: "{{accessExpr}}"
    hints:
      - "This is a {{description}}"
      - "Combine bracket notation for dict keys and list indices"
    tags: [collections, nested, dynamic]

  # --- Dynamic Tuple Exercises ---
  - slug: tuple-index-dynamic
    objective: Access a tuple element by index
    title: Dynamic Tuple Index
    difficulty: 2
    concept: collections
    subconcept: tuples
    level: practice
    prereqs: [collections.tuples]
    type: predict
    pattern: indexing
    generator: tuple-access
    prompt: "What does {{tupleVar}}[{{index}}] return?"
    code: |
      {{tupleVar}} = {{tuple}}
      print({{tupleVar}}[{{index}}])
    expected_answer: "{{result}}"
    hints:
      - Tuple indexing works like list indexing
      - Index {{index}} gets the element at position {{index}}
    tags: [tuples, indexing, dynamic]

  - slug: tuple-unpack-dynamic
    objective: Write unpacking for a dynamically generated tuple
    title: Dynamic Tuple Unpack
    difficulty: 2
    concept: collections
    subconcept: unpacking
    level: practice
    prereqs: [collections.unpacking]
    type: write
    pattern: assignment
    generator: tuple-access
    prompt: "Given {{tupleVar}} = {{tuple}}, unpack it into {{length}} variables"
    expected_answer: "a, b, c = {{tupleVar}}"
    accepted_solutions:
      - "a, b, c = {{tupleVar}}"
      - "x, y, z = {{tupleVar}}"
      - "(a, b, c) = {{tupleVar}}"
    hints:
      - Number of variables must match tuple length
      - Use comma-separated variable names
    tags: [tuples, unpacking, dynamic]

  # --- Dynamic Set Exercises ---
  - slug: set-operation-dynamic
    objective: Predict the result of a set operation
    title: Dynamic Set Operation
    difficulty: 2
    concept: collections
    subconcept: sets
    level: practice
    prereqs: [collections.sets]
    type: predict
    pattern: logical
    generator: set-ops
    prompt: "What does {{code}} return?"
    code: "{{code}}"
    expected_answer: "{{result}}"
    hints:
      - "{{description}}"
      - The {{operationName}} operation uses {{operation}}
    tags: [sets, operations, dynamic]

  - slug: set-operation-write-dynamic
    objective: Write the set operation to get a specific result
    title: Write Set Operation
    difficulty: 2
    concept: collections
    subconcept: sets
    level: practice
    prereqs: [collections.sets]
    type: write
    pattern: logical
    generator: set-ops
    prompt: "Write the {{operationName}} of {{set1}} and {{set2}}"
    expected_answer: "{{set1}} {{operation}} {{set2}}"
    hints:
      - "{{operationName}} uses the {{operation}} operator"
      - "Place the operator between the two sets"
    tags: [sets, operations, dynamic, write]

  # --- Dict Iteration Subconcept ---
  - slug: dict-items-loop
    objective: Iterate over key-value pairs using .items()
    title: Dict Items Loop
    difficulty: 2
    concept: collections
    subconcept: dict-iteration
    level: intro
    prereqs: [dicts]
    type: write
    pattern: iteration
    prompt: Write a for loop that prints each key-value pair from a dict called user
    expected_answer: |
      for key, value in user.items():
          print(key, value)
    accepted_solutions:
      - |
        for key, value in user.items():
            print(key, value)
      - |
        for k, v in user.items():
            print(k, v)
    hints:
      - .items() returns key-value tuples
      - Unpack with two variables in the for
    tags: [dicts, iteration, items]

  - slug: dict-keys-loop
    objective: Iterate over dictionary keys
    title: Dict Keys Loop
    difficulty: 2
    concept: collections
    subconcept: dict-iteration
    level: intro
    prereqs: [dicts]
    type: write
    pattern: iteration
    prompt: Write a for loop that prints each key from a dict called config
    expected_answer: |
      for key in config:
          print(key)
    accepted_solutions:
      - |
        for key in config:
            print(key)
      - |
        for key in config.keys():
            print(key)
    hints:
      - Iterating a dict directly gives keys
      - .keys() is optional but explicit
    tags: [dicts, iteration, keys]

  - slug: dict-values-loop
    objective: Iterate over dictionary values
    title: Dict Values Loop
    difficulty: 2
    concept: collections
    subconcept: dict-iteration
    level: intro
    prereqs: [dicts]
    type: write
    pattern: iteration
    prompt: Write a for loop that prints each value from a dict called scores
    expected_answer: |
      for score in scores.values():
          print(score)
    hints:
      - .values() returns only the values
      - Use when you don't need the keys
    tags: [dicts, iteration, values]

  - slug: dict-items-fill
    objective: Complete the dict iteration syntax
    title: Dict Items Fill
    difficulty: 1
    concept: collections
    subconcept: dict-iteration
    level: intro
    prereqs: [dicts]
    type: fill-in
    blank_position: 0
    pattern: iteration
    prompt: Fill in the method that returns key-value pairs
    template: "for key, value in data.___():"
    expected_answer: "items"
    hints:
      - Which method returns key-value pairs?
      - Returns tuples of (key, value)
    tags: [dicts, items, fill-in]

  - slug: dict-values-fill
    objective: Complete the values iteration
    title: Dict Values Fill
    difficulty: 1
    concept: collections
    subconcept: dict-iteration
    level: intro
    prereqs: [dicts]
    type: fill-in
    blank_position: 0
    pattern: iteration
    prompt: Fill in the method that returns only values
    template: "for val in data.___():"
    expected_answer: "values"
    hints:
      - Which method returns just the values?
      - Ignores the keys
    tags: [dicts, values, fill-in]

  - slug: dict-iteration-predict
    objective: Predict dict iteration output
    title: Dict Iteration Predict
    difficulty: 2
    concept: collections
    subconcept: dict-iteration
    level: practice
    prereqs: [dict-iteration]
    type: predict
    pattern: iteration
    prompt: What does this code print?
    code: |
      d = {"a": 1, "b": 2}
      for k in d:
          print(k)
    expected_answer: |
      a
      b
    hints:
      - Direct iteration gives keys
      - Dictionary maintains insertion order (Python 3.7+)
    tags: [dicts, iteration, predict]

  - slug: dict-items-predict
    objective: Predict items() iteration output
    title: Dict Items Predict
    difficulty: 2
    concept: collections
    subconcept: dict-iteration
    level: practice
    prereqs: [dict-iteration]
    type: predict
    pattern: iteration
    prompt: What does this code print?
    code: |
      prices = {"apple": 1.50, "banana": 0.75}
      for item, price in prices.items():
          print(f"{item}: ${price}")
    expected_answer: |
      apple: $1.5
      banana: $0.75
    hints:
      - items() gives (key, value) tuples
      - f-string formats the output
    tags: [dicts, items, predict]

  - slug: dict-sum-values
    objective: Sum all values in a dictionary
    title: Sum Dict Values
    difficulty: 2
    concept: collections
    subconcept: dict-iteration
    level: practice
    prereqs: [dict-iteration]
    type: write
    pattern: accumulator
    prompt: Calculate the sum of all values in a dict called totals
    expected_answer: sum(totals.values())
    hints:
      - .values() gives an iterable of values
      - sum() works on any iterable of numbers
    tags: [dicts, values, sum]

  - slug: dict-find-key
    objective: Find a key by its value
    title: Find Key by Value
    difficulty: 3
    concept: collections
    subconcept: dict-iteration
    level: edge
    prereqs: [dict-iteration]
    type: write
    pattern: search
    prompt: Find the key with value "admin" in a dict called roles (return None if not found)
    expected_answer: |
      for key, value in roles.items():
          if value == "admin":
              break
    accepted_solutions:
      - |
        for key, value in roles.items():
            if value == "admin":
                break
      - next((k for k, v in roles.items() if v == "admin"), None)
    hints:
      - Need to check each value
      - Use items() to access both key and value
    tags: [dicts, search, edge]

  # --- Debug Exercises (Pitfall Subconcepts) ---