# exercises/python/loops.yaml
language: python
category: control-flow

exercises:
  - slug: for-loop-range
    objective: "Write a for loop using range() to iterate over a sequence of numbers"
    title: For Loop Range
    difficulty: 1
    concept: control-flow
    subconcept: for
    level: intro
    prereqs: [foundations]
    type: write
    pattern: iteration
    prompt: Write a for loop that prints numbers 0 through 4
    expected_answer: |
      for i in range(5):
          print(i)
    hints:
      - Use range() to generate numbers
      - range(5) gives 0-4
    tags: [loops, range, for]

  - slug: for-loop-list
    objective: "Use a for loop to iterate over items in a list"
    title: For Loop List
    difficulty: 1
    concept: control-flow
    subconcept: for
    level: intro
    prereqs: [foundations]
    type: write
    pattern: iteration
    prompt: Iterate over a list called items and print each item
    expected_answer: |
      for item in items:
          print(item)
    hints:
      - Use for x in list syntax
    tags: [loops, lists, for]

  - slug: while-loop
    objective: "Write a while loop with a conditional expression"
    title: While Loop
    difficulty: 2
    concept: control-flow
    subconcept: while
    level: practice
    prereqs: [foundations, for]
    type: write
    pattern: iteration
    prompt: Write a while loop that runs while count < 5
    expected_answer: "while count < 5:"
    hints:
      - Use the while keyword
      - Condition comes after while
    tags: [loops, while, conditions]

  - slug: enumerate-loop
    objective: "Apply enumerate() to access both index and value in a loop"
    title: Enumerate Loop
    difficulty: 2
    concept: control-flow
    subconcept: enumerate
    level: practice
    prereqs: [foundations, for]
    type: write
    pattern: iteration
    prompt: Loop over items with both index and value using enumerate
    expected_answer: "for i, item in enumerate(items):"
    hints:
      - enumerate() gives index and value
      - Use tuple unpacking
    tags: [loops, enumerate, intermediate]

  - slug: break-statement
    objective: "Use break to exit a loop early based on a condition"
    title: Break Statement
    difficulty: 2
    concept: control-flow
    subconcept: break
    level: edge
    prereqs: [foundations, for, while]
    type: write
    pattern: iteration
    prompt: Exit a loop early using a statement
    expected_answer: break
    hints:
      - Use the break keyword
    tags: [loops, control, intermediate]

  # --- Additional Control Flow ---
  - slug: continue-statement
    objective: "Use continue to skip the current iteration and proceed to the next"
    title: Continue Statement
    difficulty: 2
    concept: control-flow
    subconcept: for
    level: edge
    prereqs: [control-flow.for]
    type: write
    pattern: iteration
    prompt: Skip to next iteration using a statement
    expected_answer: continue
    hints:
      - Use the continue keyword
    tags: [loops, control, intermediate]

  - slug: for-range-step
    objective: "Use range() with start, stop, and step parameters for custom iteration"
    title: For Loop Range with Step
    difficulty: 2
    concept: control-flow
    subconcept: for
    level: practice
    prereqs: [control-flow.for]
    type: write
    pattern: iteration
    prompt: Loop from 0 to 10 in steps of 2
    expected_answer: "for i in range(0, 10, 2):"
    hints:
      - range(start, stop, step)
    tags: [loops, range, step]

  - slug: for-zip
    objective: "Use zip() to iterate over multiple sequences in parallel"
    title: For Loop with Zip
    difficulty: 2
    concept: control-flow
    subconcept: iteration
    level: practice
    prereqs: [control-flow.for]
    type: write
    pattern: iteration
    prompt: Loop over two lists a and b simultaneously
    expected_answer: "for x, y in zip(a, b):"
    hints:
      - Use zip() to pair elements
    tags: [loops, zip, iteration]

  - slug: while-true-break
    objective: "Create an infinite loop pattern with controlled exit using break"
    title: While True with Break
    difficulty: 2
    concept: control-flow
    subconcept: while
    level: edge
    prereqs: [control-flow.while]
    type: write
    pattern: iteration
    prompt: Create an infinite loop that can be exited
    expected_answer: "while True:"
    hints:
      - Use while True
      - Exit with break inside
    tags: [loops, while, infinite]

  - slug: for-else
    objective: "Apply the else clause on a for loop for post-iteration logic"
    title: For-Else Clause
    difficulty: 3
    concept: control-flow
    subconcept: for
    level: integrated
    prereqs: [control-flow.for]
    type: write
    pattern: iteration
    targets: [for, conditionals]
    prompt: Write the else clause for a for loop that executes when loop completes without break
    expected_answer: "else:"
    hints:
      - else after for
      - Runs if no break occurred
    tags: [loops, else, advanced]

  # --- Conditionals Subconcept ---
  - slug: if-statement
    objective: "Write a basic if statement with a comparison condition"
    title: If Statement
    difficulty: 1
    concept: control-flow
    subconcept: conditionals
    level: intro
    prereqs: [foundations]
    type: write
    pattern: conditional
    prompt: Write an if statement that checks if x > 0
    expected_answer: "if x > 0:"
    hints:
      - Use if keyword
      - End with colon
    tags: [conditionals, if, beginner]

  - slug: if-else
    objective: "Use else to provide an alternative branch when the if condition is false"
    title: If-Else Statement
    difficulty: 1
    concept: control-flow
    subconcept: conditionals
    level: intro
    prereqs: [control-flow.conditionals]
    type: write
    pattern: conditional
    prompt: Write the else clause for an if statement
    expected_answer: "else:"
    hints:
      - else keyword followed by colon
    tags: [conditionals, else, beginner]

  - slug: if-elif
    objective: "Use elif to add additional conditional branches"
    title: If-Elif Statement
    difficulty: 2
    concept: control-flow
    subconcept: conditionals
    level: practice
    prereqs: [control-flow.conditionals]
    type: write
    pattern: conditional
    prompt: Write an elif clause that checks if x < 0
    expected_answer: "elif x < 0:"
    hints:
      - elif is else-if combined
    tags: [conditionals, elif, intermediate]

  - slug: if-and
    objective: "Combine multiple conditions using the and logical operator"
    title: If with AND
    difficulty: 2
    concept: control-flow
    subconcept: conditionals
    level: practice
    prereqs: [control-flow.conditionals]
    type: write
    pattern: conditional
    prompt: Write if statement checking if x > 0 AND y > 0
    expected_answer: "if x > 0 and y > 0:"
    hints:
      - Use 'and' keyword
    tags: [conditionals, and, logic]

  - slug: if-or
    objective: "Combine conditions using the or logical operator for alternative checks"
    title: If with OR
    difficulty: 2
    concept: control-flow
    subconcept: conditionals
    level: practice
    prereqs: [control-flow.conditionals]
    type: write
    pattern: conditional
    prompt: Write if statement checking if x == 0 OR y == 0
    expected_answer: "if x == 0 or y == 0:"
    hints:
      - Use 'or' keyword
    tags: [conditionals, or, logic]

  - slug: if-not
    objective: "Use the not operator to negate a boolean condition"
    title: If with NOT
    difficulty: 2
    concept: control-flow
    subconcept: conditionals
    level: practice
    prereqs: [control-flow.conditionals]
    type: write
    pattern: conditional
    prompt: Write if statement checking if NOT done
    expected_answer: "if not done:"
    hints:
      - Use 'not' keyword
    tags: [conditionals, not, logic]

  - slug: if-in
    objective: "Use the in operator to check membership in a collection"
    title: If with IN
    difficulty: 2
    concept: control-flow
    subconcept: conditionals
    level: practice
    prereqs: [control-flow.conditionals]
    type: write
    pattern: conditional
    prompt: Write if statement checking if x is in list items
    expected_answer: "if x in items:"
    hints:
      - Use 'in' keyword
    tags: [conditionals, in, membership]

  - slug: match-basic
    objective: "Write a match statement for structural pattern matching"
    title: Match Statement
    difficulty: 2
    concept: control-flow
    subconcept: conditionals
    level: edge
    prereqs: [control-flow.conditionals]
    type: write
    pattern: conditional
    prompt: Write a match statement for variable command
    expected_answer: "match command:"
    hints:
      - Python 3.10+ feature
      - Similar to switch in other languages
    tags: [conditionals, match, pattern-matching]

  - slug: match-case
    objective: "Use case clauses to define patterns in a match statement"
    title: Match Case
    difficulty: 2
    concept: control-flow
    subconcept: conditionals
    level: edge
    prereqs: [control-flow.conditionals]
    type: write
    pattern: conditional
    prompt: Write a case clause for value "start"
    expected_answer: 'case "start":'
    accepted_solutions:
      - 'case "start":'
      - "case 'start':"
    hints:
      - Use case keyword
      - Inside match block
    tags: [conditionals, match, case]

  # --- zip Subconcept ---
  - slug: zip-two-lists
    objective: "Use zip() to iterate over two lists simultaneously"
    title: Zip Two Lists
    difficulty: 1
    concept: control-flow
    subconcept: zip
    level: intro
    prereqs: [control-flow.for]
    type: write
    pattern: iteration
    prompt: Use zip to iterate over names and ages lists together
    expected_answer: "for name, age in zip(names, ages):"
    hints:
      - zip() combines iterables
      - Use tuple unpacking
    tags: [zip, iteration]

  - slug: zip-three-lists
    objective: "Apply zip() to iterate over three lists in parallel"
    title: Zip Three Lists
    difficulty: 2
    concept: control-flow
    subconcept: zip
    level: practice
    prereqs: [control-flow.zip]
    type: write
    pattern: iteration
    prompt: Use zip to iterate over first, middle, and last name lists simultaneously
    expected_answer: "for f, m, l in zip(first, middle, last):"
    hints:
      - zip() can take multiple iterables
      - Unpack all three variables
    tags: [zip, iteration, multiple]

  - slug: zip-unequal-lengths
    objective: "Handle zip() behavior with iterables of unequal length using zip_longest"
    title: Zip Unequal Lists
    difficulty: 3
    concept: control-flow
    subconcept: zip
    level: edge
    prereqs: [control-flow.zip]
    type: write
    pattern: iteration
    prompt: Import and use zip_longest to handle lists of different lengths with a fillvalue of 0
    expected_answer: "for a, b in zip_longest(list1, list2, fillvalue=0):"
    hints:
      - Import from itertools
      - Use fillvalue parameter for missing values
    tags: [zip, itertools, edge-case]

  # --- reversed Subconcept ---
  - slug: reversed-list
    objective: "Use reversed() to iterate over a list in reverse order"
    title: Reversed List Iteration
    difficulty: 1
    concept: control-flow
    subconcept: reversed
    level: intro
    prereqs: [control-flow.for]
    type: write
    pattern: iteration
    prompt: Iterate over items list in reverse order
    expected_answer: "for item in reversed(items):"
    hints:
      - reversed() returns an iterator
      - Works on sequences
    tags: [reversed, iteration]

  - slug: reversed-range
    objective: "Combine reversed() with range() to count down"
    title: Reversed Range
    difficulty: 2
    concept: control-flow
    subconcept: reversed
    level: practice
    prereqs: [control-flow.reversed, control-flow.for]
    type: write
    pattern: iteration
    prompt: Count down from 5 to 1 using reversed and range
    expected_answer: "for i in reversed(range(1, 6)):"
    hints:
      - Wrap range() with reversed()
      - range(1, 6) gives 1-5
    tags: [reversed, range, countdown]

  - slug: reversed-enumerate
    objective: "Combine reversed() with enumerate() while maintaining original indices"
    title: Reversed with Enumerate
    difficulty: 3
    concept: control-flow
    subconcept: reversed
    level: edge
    prereqs: [control-flow.reversed, control-flow.enumerate]
    type: write
    pattern: iteration
    prompt: Iterate over items in reverse while keeping track of original indices
    expected_answer: "for i, item in reversed(list(enumerate(items))):"
    hints:
      - enumerate() then reversed()
      - Convert to list first for reversed()
    tags: [reversed, enumerate, indices]

  # --- sorted Subconcept ---
  - slug: sorted-list
    objective: "Use sorted() to iterate over a list in sorted order"
    title: Sorted List Iteration
    difficulty: 1
    concept: control-flow
    subconcept: sorted
    level: intro
    prereqs: [control-flow.for]
    type: write
    pattern: iteration
    prompt: Iterate over items list in sorted order
    expected_answer: "for item in sorted(items):"
    hints:
      - sorted() returns a new sorted list
      - Original list unchanged
    tags: [sorted, iteration]

  - slug: sorted-reverse
    objective: "Use sorted() with reverse=True for descending order"
    title: Sorted Descending
    difficulty: 2
    concept: control-flow
    subconcept: sorted
    level: practice
    prereqs: [control-flow.sorted]
    type: write
    pattern: iteration
    prompt: Iterate over numbers in descending (reverse) order
    expected_answer: "for num in sorted(numbers, reverse=True):"
    hints:
      - Use reverse parameter
      - reverse=True for descending
    tags: [sorted, reverse, descending]

  - slug: sorted-key-len
    objective: "Use sorted() with key parameter to sort by string length"
    title: Sorted by Length
    difficulty: 2
    concept: control-flow
    subconcept: sorted
    level: practice
    prereqs: [control-flow.sorted]
    type: write
    pattern: iteration
    prompt: Sort words list by string length using the key parameter
    expected_answer: "for word in sorted(words, key=len):"
    hints:
      - key= specifies sort criteria
      - len function as key
    tags: [sorted, key, length]

  - slug: sorted-key-lambda-tuples
    objective: "Use sorted() with a lambda key function for custom sorting"
    title: Sorted with Lambda Key
    difficulty: 3
    concept: control-flow
    subconcept: sorted
    level: edge
    prereqs: [control-flow.sorted, functions.lambda]
    type: write
    pattern: iteration
    prompt: Sort a list of tuples by the second element using a lambda
    expected_answer: "for item in sorted(data, key=lambda x: x[1]):"
    hints:
      - lambda creates inline function
      - x[1] accesses second element
    tags: [sorted, key, lambda, tuples]

  # --- any-all Subconcept ---
  - slug: any-basic
    objective: "Use any() to check if any element in an iterable is truthy"
    title: Any Check
    difficulty: 1
    concept: control-flow
    subconcept: any-all
    level: intro
    prereqs: [control-flow.conditionals]
    type: write
    pattern: invocation
    prompt: Check if any number in nums is greater than 10
    expected_answer: "any(n > 10 for n in nums)"
    hints:
      - any() returns True if any element is truthy
      - Use generator expression inside
    tags: [any, boolean, iteration]

  - slug: all-basic
    objective: "Use all() to check if all elements in an iterable are truthy"
    title: All Check
    difficulty: 1
    concept: control-flow
    subconcept: any-all
    level: intro
    prereqs: [control-flow.conditionals]
    type: write
    pattern: invocation
    prompt: Check if all numbers in nums are positive (greater than 0)
    expected_answer: "all(n > 0 for n in nums)"
    hints:
      - all() returns True if all elements are truthy
      - Use generator expression inside
    tags: [all, boolean, iteration]

  - slug: any-with-condition
    objective: "Apply any() with a complex condition to search an iterable"
    title: Any with String Check
    difficulty: 2
    concept: control-flow
    subconcept: any-all
    level: practice
    prereqs: [control-flow.any-all]
    type: write
    pattern: invocation
    prompt: Check if any word in words starts with the letter 'a'
    expected_answer: "any(word.startswith('a') for word in words)"
    accepted_solutions:
      - "any(word.startswith('a') for word in words)"
      - 'any(word.startswith("a") for word in words)'
      - "any(w.startswith('a') for w in words)"
      - 'any(w.startswith("a") for w in words)'
    hints:
      - Use startswith() method
      - Generator expression with condition
    tags: [any, strings, startswith]

  - slug: any-all-combined
    objective: "Combine any() and all() in a conditional expression"
    title: Any and All Combined
    difficulty: 3
    concept: control-flow
    subconcept: any-all
    level: edge
    prereqs: [control-flow.any-all, control-flow.conditionals]
    type: write
    pattern: conditional
    prompt: Write an if statement that checks if all items are valid AND any item is priority
    expected_answer: "if all(item.valid for item in items) and any(item.priority for item in items):"
    accepted_solutions:
      - "if all(item.valid for item in items) and any(item.priority for item in items):"
      - "if all(i.valid for i in items) and any(i.priority for i in items):"
    hints:
      - Combine with 'and' operator
      - all() for universal check, any() for existence
    tags: [any, all, combined, conditional]

  # --- Fill-in Exercises ---
  - slug: for-loop-fill
    objective: Complete the for loop syntax
    title: For Loop Fill-in
    difficulty: 1
    concept: control-flow
    subconcept: for
    level: intro
    prereqs: []
    type: fill-in
    blank_position: 0
    pattern: iteration
    prompt: Complete the for loop to iterate over items
    template: "___ item in items:"
    expected_answer: "for"
    hints:
      - Keyword that starts iteration
    tags: [control-flow, for, fill-in]

  - slug: range-fill
    objective: Complete the range function call
    title: Range Fill-in
    difficulty: 1
    concept: control-flow
    subconcept: for
    level: intro
    prereqs: [control-flow.for]
    type: fill-in
    blank_position: 0
    pattern: iteration
    prompt: Complete to loop 5 times (0 to 4)
    template: "for i in ___(5):"
    expected_answer: "range"
    hints:
      - Built-in function for number sequences
    tags: [control-flow, range, fill-in]

  - slug: enumerate-fill
    objective: Complete the enumerate function call
    title: Enumerate Fill-in
    difficulty: 2
    concept: control-flow
    subconcept: iteration
    level: practice
    prereqs: [control-flow.for]
    type: fill-in
    blank_position: 0
    pattern: iteration
    prompt: Complete to get both index and value
    template: "for i, item in ___(items):"
    expected_answer: "enumerate"
    hints:
      - Function that provides index with each element
    tags: [control-flow, enumerate, fill-in]

  - slug: break-fill
    objective: Complete the loop exit keyword
    title: Break Fill-in
    difficulty: 1
    concept: control-flow
    subconcept: for
    level: intro
    prereqs: [control-flow.for]
    type: fill-in
    blank_position: 0
    pattern: control
    prompt: Complete to exit the loop immediately
    template: |
      for item in items:
          if item == target:
              ___
    expected_answer: "break"
    hints:
      - Keyword to exit loop early
    tags: [control-flow, break, fill-in]

  - slug: continue-fill
    objective: Complete the skip iteration keyword
    title: Continue Fill-in
    difficulty: 1
    concept: control-flow
    subconcept: for
    level: intro
    prereqs: [control-flow.for]
    type: fill-in
    blank_position: 0
    pattern: control
    prompt: Complete to skip to next iteration
    template: |
      for item in items:
          if item < 0:
              ___
    expected_answer: "continue"
    hints:
      - Keyword to skip rest of current iteration
    tags: [control-flow, continue, fill-in]

  - slug: while-condition-fill
    objective: Complete the while loop condition
    title: While Condition Fill-in
    difficulty: 2
    concept: control-flow
    subconcept: while
    level: practice
    prereqs: [control-flow.while]
    type: fill-in
    blank_position: 0
    pattern: iteration
    prompt: Complete to loop while count is less than 10
    template: "while count ___ 10:"
    expected_answer: "<"
    hints:
      - Comparison operator
    tags: [control-flow, while, fill-in]

  # --- Predict Exercises ---
  - slug: for-range-predict
    objective: Predict the output of a for loop with range
    title: Range Output Predict
    difficulty: 1
    concept: control-flow
    subconcept: for
    level: intro
    prereqs: [control-flow.for]
    type: predict
    pattern: iteration
    prompt: What does this code print?
    code: |
      for i in range(3):
          print(i)
    expected_answer: |
      0
      1
      2
    hints:
      - range(3) produces 0, 1, 2
    tags: [control-flow, range, predict]

  - slug: enumerate-predict
    objective: Predict the output of enumerate
    title: Enumerate Output Predict
    difficulty: 2
    concept: control-flow
    subconcept: iteration
    level: practice
    prereqs: [control-flow.for]
    type: predict
    pattern: iteration
    prompt: What does this code print?
    code: |
      for i, ch in enumerate("abc"):
          print(i, ch)
    expected_answer: |
      0 a
      1 b
      2 c
    hints:
      - enumerate provides index and value
    tags: [control-flow, enumerate, predict]

  - slug: break-predict
    objective: Predict loop behavior with break
    title: Break Predict
    difficulty: 2
    concept: control-flow
    subconcept: for
    level: practice
    prereqs: [control-flow.for]
    type: predict
    pattern: control
    prompt: What does this code print?
    code: |
      for i in range(5):
          if i == 3:
              break
          print(i)
    expected_answer: |
      0
      1
      2
    hints:
      - break exits immediately when condition met
    tags: [control-flow, break, predict]

  - slug: continue-predict
    objective: Predict loop behavior with continue
    title: Continue Predict
    difficulty: 2
    concept: control-flow
    subconcept: for
    level: practice
    prereqs: [control-flow.for]
    type: predict
    pattern: control
    prompt: What does this code print?
    code: |
      for i in range(5):
          if i == 2:
              continue
          print(i)
    expected_answer: |
      0
      1
      3
      4
    hints:
      - continue skips current iteration only
    tags: [control-flow, continue, predict]

  - slug: zip-predict
    objective: Predict the output of zip iteration
    title: Zip Output Predict
    difficulty: 2
    concept: control-flow
    subconcept: zip
    level: practice
    prereqs: [control-flow.for]
    type: predict
    pattern: iteration
    prompt: What does this code print?
    code: |
      for a, b in zip([1, 2], ["x", "y"]):
          print(a, b)
    expected_answer: |
      1 x
      2 y
    hints:
      - zip pairs elements from both lists
    tags: [control-flow, zip, predict]

  - slug: nested-loop-predict
    objective: Predict nested loop output
    title: Nested Loop Predict
    difficulty: 3
    concept: control-flow
    subconcept: for
    level: edge
    prereqs: [control-flow.for]
    type: predict
    pattern: iteration
    prompt: What does this code print?
    code: |
      for i in range(2):
          for j in range(2):
              print(i, j)
    expected_answer: |
      0 0
      0 1
      1 0
      1 1
    hints:
      - Inner loop completes for each outer iteration
    tags: [control-flow, nested, predict]
