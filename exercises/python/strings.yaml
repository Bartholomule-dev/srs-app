# exercises/python/strings.yaml
language: python
category: strings

exercises:
  # Static string-indexing removed - covered by string-index-dynamic
  # Static string-slicing removed - covered by string-slicing-dynamic

  - slug: string-slicing-dynamic
    objective: Use slice notation to extract a substring from a string
    title: Dynamic String Slicing
    difficulty: 2
    prompt: Get characters from index {{start}} to {{end}} (exclusive) of string {{item_singular}}
    expected_answer: "{{item_singular}}[{{start}}:{{end}}]"
    hints:
      - Use slice notation [start:end]
      - End index is exclusive
    tags: [strings, slicing, intermediate, dynamic]
    concept: strings
    subconcept: slicing
    level: practice
    prereqs: [indexing]
    type: write
    pattern: indexing
    generator: slice-bounds
    target_construct:
      type: slice
      feedback: "Try using slice notation {{item_singular}}[start:end] for cleaner extraction"
    accepted_solutions:
      - "{{item_singular}}[{{start}}:{{end}}]"

  - slug: string-index-dynamic
    objective: Use bracket notation to access a specific character by index
    title: Dynamic Character Index
    difficulty: 1
    prompt: Get the character at index {{idx}} of string {{item_singular}}
    expected_answer: "{{item_singular}}[{{idx}}]"
    hints:
      - Use square bracket indexing
      - Remember indices start at 0
    tags: [strings, indexing, dynamic]
    concept: strings
    subconcept: indexing
    level: intro
    prereqs: [strings.basics]
    type: write
    pattern: indexing
    generator: index-values
    accepted_solutions:
      - "{{item_singular}}[{{idx}}]"

  - slug: string-slice-step-dynamic
    objective: Use slice with step parameter to skip characters
    title: Dynamic Slice with Step
    difficulty: 2
    prompt: Get every other character of string {{item_singular}} starting from index {{idx}}
    expected_answer: "{{item_singular}}[{{idx}}::2]"
    hints:
      - Use slice notation [start:end:step]
      - Step of 2 means every other character
    tags: [strings, slicing, step, dynamic]
    concept: strings
    subconcept: slicing
    level: practice
    prereqs: [strings.slicing]
    type: write
    pattern: indexing
    generator: index-values
    target_construct:
      type: slice
      feedback: "Try using slice with step {{item_singular}}[start::step] for cleaner iteration"
    accepted_solutions:
      - "{{item_singular}}[{{idx}}::2]"

  - slug: fstring-variable-dynamic
    objective: Construct a log message using f-string interpolation
    title: Dynamic Log Message
    difficulty: 2
    prompt: Create an f-string that outputs "Processing " followed by the value of {{name}}
    expected_answer: 'f"Processing {{{name}}}"'
    hints:
      - Start string with f prefix
      - Use curly braces for variable interpolation
    tags: [strings, fstrings, logging, dynamic]
    concept: strings
    subconcept: fstrings
    level: practice
    prereqs: [strings.basics]
    type: write
    pattern: construction
    generator: variable-names
    target_construct:
      type: f-string
      feedback: "Try using an f-string f\"...{var}...\" for cleaner formatting"
    accepted_solutions:
      - 'f"Processing {{{name}}}"'
      - "f'Processing {{{name}}}'"

  - slug: string-slice-from-end-dynamic
    objective: Use slice notation to get last N characters
    title: Dynamic Slice from End
    difficulty: 2
    prompt: Get the last {{end}} characters of string {{item_singular}} using negative slicing
    expected_answer: "{{item_singular}}[-{{end}}:]"
    hints:
      - Negative indices count from the end
      - Omitting the end index goes to the end
    tags: [strings, slicing, negative, dynamic]
    concept: strings
    subconcept: slicing
    level: practice
    prereqs: [strings.indexing]
    type: write
    pattern: indexing
    generator: slice-bounds
    target_construct:
      type: slice
      feedback: "Try using negative slice {{item_singular}}[-n:] to get last n characters"
    accepted_solutions:
      - "{{item_singular}}[-{{end}}:]"

  - slug: string-upper
    objective: "Apply the upper() method to convert string case"
    title: String Uppercase
    difficulty: 1
    prompt: Convert string {{item_singular}} to uppercase for {{entity_name}} display
    expected_answer: "{{item_singular}}.upper()"
    hints:
      - Use the upper() method on {{item_singular}}
      - Returns a new {{item_singular}} string (doesn't modify the original)
    tags: [strings, methods, beginner]
    concept: strings
    subconcept: string-methods
    level: intro
    prereqs: [strings.basics]
    type: write
    pattern: mutation

  - slug: f-string-basic
    objective: "Construct a formatted message using f-string formatting"
    title: F-String Format
    difficulty: 2
    prompt: 'Create an f-string that outputs "{{entity_name}}: " followed by the value of {{item_singular}}'
    expected_answer: 'f"{{entity_name}}: {{{item_singular}}}"'
    accepted_solutions:
      - 'f"{{entity_name}}: {{{item_singular}}}"'
      - "f'{{entity_name}}: {{{item_singular}}}'"
    hints:
      - Start string with f prefix before the quote
      - Put variable names in curly braces {variable}
    tags: [strings, f-strings, intermediate]
    concept: strings
    subconcept: fstrings
    level: practice
    prereqs: [strings.basics]
    type: write
    pattern: construction

  - slug: string-split
    objective: "Use the split() method to convert a string into a list"
    title: String Split
    difficulty: 2
    prompt: Split string {{item_singular}} by comma
    expected_answer: '{{item_singular}}.split(",")'
    accepted_solutions:
      - '{{item_singular}}.split(",")'
      - "{{item_singular}}.split(',')"
    hints:
      - Use the split() method
      - Pass the delimiter as argument
    tags: [strings, methods, intermediate]
    concept: strings
    subconcept: string-methods
    level: practice
    prereqs: [strings.basics]
    type: write
    pattern: conversion

  # --- Additional Basics Subconcept ---
  - slug: string-concatenate
    objective: "Use the + operator to join strings together"
    title: String Concatenation
    difficulty: 1
    concept: strings
    subconcept: basics
    level: intro
    prereqs: [foundations]
    type: write
    pattern: construction
    prompt: Concatenate strings {{attr_key_1}} and {{attr_key_2}}
    expected_answer: "{{attr_key_1}} + {{attr_key_2}}"
    accepted_solutions:
      - "{{attr_key_1}} + {{attr_key_2}}"
      - "{{attr_key_1}}+{{attr_key_2}}"
    hints:
      - Use the + operator
      - Creates a new string from both inputs
    tags: [strings, concatenation, beginner]

  - slug: string-repeat
    objective: "Use the * operator to repeat a string multiple times"
    title: String Repetition
    difficulty: 1
    concept: strings
    subconcept: basics
    level: intro
    prereqs: [foundations]
    type: write
    pattern: construction
    prompt: Repeat string {{item_singular}} three times
    expected_answer: "{{item_singular}} * 3"
    accepted_solutions:
      - "{{item_singular}} * 3"
      - "3 * {{item_singular}}"
    hints:
      - Use the * operator with a number
      - "Order doesn't matter: {{item_singular}} * 3 or 3 * {{item_singular}} both work"
    tags: [strings, repeat, beginner]

  - slug: string-length
    objective: "Use the len() function to determine string size"
    title: String Length
    difficulty: 1
    concept: strings
    subconcept: basics
    level: intro
    prereqs: [foundations]
    type: write
    pattern: query
    prompt: Get the length of string {{item_singular}} for {{entity_name}} validation
    expected_answer: "len({{item_singular}})"
    hints:
      - Use the len() function on {{item_singular}}
      - len() works on any {{item_plural}} sequence type
    tags: [strings, length, beginner]

  # --- Additional Indexing Subconcept ---
  - slug: string-negative-index
    objective: "Use negative indices to access characters from the end of a string"
    title: Negative Indexing
    difficulty: 1
    concept: strings
    subconcept: indexing
    level: intro
    prereqs: [strings.basics]
    type: write
    pattern: indexing
    prompt: Get the last character of string {{item_singular}} using negative indexing
    expected_answer: "{{item_singular}}[-1]"
    hints:
      - Negative indices count from the end of {{item_singular}}
      - -1 is the last {{item_singular}} character
    tags: [strings, indexing, negative]

  - slug: string-second-last
    objective: "Apply negative indexing to access positions relative to string end"
    title: Second to Last
    difficulty: 2
    concept: strings
    subconcept: indexing
    level: practice
    prereqs: [strings.indexing]
    type: write
    pattern: indexing
    prompt: Get the second to last character of string {{item_singular}}
    expected_answer: "{{item_singular}}[-2]"
    hints:
      - Use negative indexing on {{item_singular}}
      - -2 is second from the end of {{item_plural}}
    tags: [strings, indexing, negative]

  # --- Additional Slicing Subconcept ---
  - slug: string-slice-start
    objective: "Use slice notation with an omitted start index to extract from beginning"
    title: Slice from Start
    difficulty: 1
    concept: strings
    subconcept: slicing
    level: intro
    prereqs: [strings.indexing]
    type: write
    pattern: indexing
    prompt: Get the first 5 characters of string {{item_singular}} for {{entity_name}} preview
    expected_answer: "{{item_singular}}[:5]"
    accepted_solutions:
      - "{{item_singular}}[:5]"
      - "{{item_singular}}[0:5]"
    hints:
      - Omit start for beginning of {{item_singular}}
      - End index is exclusive for {{item_plural}}
    tags: [strings, slicing, beginner]

  - slug: string-slice-end
    objective: "Use slice notation with an omitted end index to extract to the end"
    title: Slice to End
    difficulty: 1
    concept: strings
    subconcept: slicing
    level: intro
    prereqs: [strings.indexing]
    type: write
    pattern: indexing
    prompt: Get all characters from index 3 to the end of string {{item_singular}}
    expected_answer: "{{item_singular}}[3:]"
    hints:
      - Omit end for going to the end
      - "{{item_singular}}[3:] means from index 3 to the last character"
    tags: [strings, slicing, beginner]

  - slug: string-reverse
    objective: "Use slice step parameter to reverse a string"
    title: Reverse String
    difficulty: 2
    concept: strings
    subconcept: slicing
    level: practice
    prereqs: [strings.slicing]
    type: write
    pattern: indexing
    prompt: Reverse string {{item_singular}} using slicing for {{entity_name}} display
    expected_answer: "{{item_singular}}[::-1]"
    hints:
      - Use step value of -1 on {{item_singular}}
      - "'[::-1]' reverses {{item_plural}}"
    tags: [strings, slicing, reverse]

  - slug: string-every-other
    objective: "Use slice step parameter to extract alternating characters"
    title: Every Other Character
    difficulty: 2
    concept: strings
    subconcept: slicing
    level: practice
    prereqs: [strings.slicing]
    type: write
    pattern: indexing
    prompt: Get every other character of string {{item_singular}} (starting from first)
    expected_answer: "{{item_singular}}[::2]"
    hints:
      - Use step value of 2 on {{item_singular}}
      - Omit start and end for {{item_plural}}
    tags: [strings, slicing, step]

  # --- Additional Methods Subconcept ---
  - slug: string-lower
    objective: "Apply the lower() method to convert string case"
    title: String Lowercase
    difficulty: 1
    concept: strings
    subconcept: string-methods
    level: intro
    prereqs: [strings.basics]
    type: write
    pattern: mutation
    prompt: Convert string {{item_singular}} to lowercase for {{entity_name}} normalization
    expected_answer: "{{item_singular}}.lower()"
    hints:
      - Use the lower() method on {{item_singular}}
      - Returns a new {{item_singular}} string (strings are immutable)
    tags: [strings, methods, beginner]

  - slug: string-strip
    objective: "Use the strip() method to remove whitespace from string boundaries"
    title: String Strip
    difficulty: 1
    concept: strings
    subconcept: string-methods
    level: intro
    prereqs: [strings.basics]
    type: write
    pattern: mutation
    prompt: Remove leading and trailing whitespace from string {{item_singular}} for {{entity_name}} cleanup
    expected_answer: "{{item_singular}}.strip()"
    hints:
      - Use the strip() method on {{item_singular}}
      - lstrip() and rstrip() remove from one side of {{item_plural}} only
    tags: [strings, methods, whitespace]

  - slug: string-replace
    objective: "Use the replace() method to substitute text within a string"
    title: String Replace
    difficulty: 2
    concept: strings
    subconcept: string-methods
    level: practice
    prereqs: [string-methods]
    type: write
    pattern: mutation
    prompt: Replace all occurrences of "{{attr_key_1}}" with "{{attr_key_2}}" in string {{item_singular}}
    expected_answer: '{{item_singular}}.replace("{{attr_key_1}}", "{{attr_key_2}}")'
    accepted_solutions:
      - '{{item_singular}}.replace("{{attr_key_1}}", "{{attr_key_2}}")'
      - "{{item_singular}}.replace('{{attr_key_1}}', '{{attr_key_2}}')"
    hints:
      - Use the replace() method
      - Takes old and new as arguments
    tags: [strings, methods, replace]

  - slug: string-join
    objective: "Use the join() method to combine list elements into a string"
    title: String Join
    difficulty: 2
    concept: strings
    subconcept: string-methods
    level: practice
    prereqs: [string-methods]
    type: write
    pattern: construction
    prompt: Join the list {{list_name}} using a comma as the separator
    expected_answer: '",".join({{list_name}})'
    accepted_solutions:
      - '",".join({{list_name}})'
      - "','.join({{list_name}})"
    hints:
      - Call join on the separator
      - Pass the list as argument
    tags: [strings, methods, join]

  - slug: string-find
    objective: "Use the find() method to locate substring positions"
    title: String Find
    difficulty: 2
    concept: strings
    subconcept: string-methods
    level: practice
    prereqs: [string-methods]
    type: write
    pattern: query
    prompt: Find the index of substring "{{item_example}}" in string {{item_singular}}
    expected_answer: '{{item_singular}}.find("{{item_example}}")'
    accepted_solutions:
      - '{{item_singular}}.find("{{item_example}}")'
      - "{{item_singular}}.find('{{item_example}}')"
    hints:
      - Use the find() method
      - Returns -1 if not found
    tags: [strings, methods, find]

  - slug: string-startswith
    objective: "Use the startswith() method to check string prefixes"
    title: String Starts With
    difficulty: 2
    concept: strings
    subconcept: string-methods
    level: practice
    prereqs: [string-methods]
    type: write
    pattern: query
    prompt: Check if string {{item_singular}} starts with "{{item_example}}"
    expected_answer: '{{item_singular}}.startswith("{{item_example}}")'
    accepted_solutions:
      - '{{item_singular}}.startswith("{{item_example}}")'
      - "{{item_singular}}.startswith('{{item_example}}')"
    hints:
      - Use the startswith() method
      - Returns True or False
    tags: [strings, methods, check]

  # --- Additional F-Strings Subconcept ---
  - slug: fstring-expression
    objective: "Embed arithmetic expressions inside f-string placeholders"
    title: F-String Expression
    difficulty: 2
    concept: strings
    subconcept: fstrings
    level: practice
    prereqs: [strings.fstrings]
    type: write
    pattern: construction
    prompt: Create an f-string that displays "Total {{item_plural}} is " followed by the result of {{attr_key_1}} + {{attr_key_2}}
    expected_answer: 'f"Total {{item_plural}} is {{{attr_key_1}} + {{attr_key_2}}}"'
    accepted_solutions:
      - 'f"Total {{item_plural}} is {{{attr_key_1}} + {{attr_key_2}}}"'
      - "f'Total {{item_plural}} is {{{attr_key_1}} + {{attr_key_2}}}'"
    hints:
      - Expressions work inside {}
      - The expression is evaluated before string interpolation
    tags: [strings, fstrings, expression]

  - slug: fstring-format-number
    objective: "Apply f-string format specifiers to control decimal precision"
    title: F-String Format Number
    difficulty: 2
    concept: strings
    subconcept: fstrings
    level: edge
    prereqs: [strings.fstrings]
    type: write
    pattern: construction
    prompt: Format {{item_singular}}_price with 2 decimal places in an f-string
    expected_answer: 'f"{{{item_singular}}_price:.2f}"'
    accepted_solutions:
      - 'f"{{{item_singular}}_price:.2f}"'
      - "f'{{{item_singular}}_price:.2f}'"
    hints:
      - Use :format after variable
      - .2f means 2 decimal places
    tags: [strings, fstrings, formatting]

  - slug: fstring-padding
    objective: "Apply f-string format specifiers for width and padding"
    title: F-String Padding
    difficulty: 2
    concept: strings
    subconcept: fstrings
    level: edge
    prereqs: [strings.fstrings]
    type: write
    pattern: construction
    prompt: Format {{item_singular}}_id to be 5 characters wide with zero padding
    expected_answer: 'f"{{{item_singular}}_id:05}"'
    accepted_solutions:
      - 'f"{{{item_singular}}_id:05}"'
      - "f'{{{item_singular}}_id:05}'"
    hints:
      - 0 before width means zero-pad
      - 05 = 5 chars wide with zeros
    tags: [strings, fstrings, padding]

  # --- Fill-in Exercises ---

  - slug: string-len-fill
    title: String Length
    type: fill-in
    difficulty: 1
    concept: strings
    subconcept: basics
    level: intro
    prereqs: [variables]
    pattern: invocation
    objective: Use len() to get string length
    prompt: Fill in the function that returns the length of {{item_singular}}_name
    template: "{{item_singular}}_length = ___({{item_singular}}_name)"
    blank_position: 0
    expected_answer: "len"
    accepted_solutions: ["len"]
    hints:
      - Which built-in function returns the length?
      - Works on strings, lists, and other sequences
    tags: [strings, len]

  - slug: string-concat-fill
    title: String Concatenation
    type: fill-in
    difficulty: 1
    concept: strings
    subconcept: basics
    level: intro
    prereqs: [variables]
    pattern: construction
    objective: Concatenate strings
    prompt: Fill in the operator that joins {{attr_key_1}} and {{attr_key_2}} strings
    template: "full_{{item_singular}} = {{attr_key_1}} ___ {{attr_key_2}}"
    blank_position: 0
    expected_answer: "+"
    accepted_solutions: ["+"]
    hints:
      - Use the addition operator to join strings
      - This is called string concatenation
    tags: [strings, concatenation]

  - slug: string-index-first-fill
    title: First Character
    type: fill-in
    difficulty: 1
    concept: strings
    subconcept: indexing
    level: intro
    prereqs: [basics]
    pattern: indexing
    objective: Access first character
    prompt: Fill in the index for the first character of {{item_singular}}_name
    template: "first_char = {{item_singular}}_name[___]"
    blank_position: 0
    expected_answer: "0"
    accepted_solutions: ["0"]
    hints:
      - Python uses zero-based indexing for {{item_plural}}
      - First {{item_singular}} element is always index 0
    tags: [strings, indexing]

  - slug: string-index-last-fill
    title: Last Character
    type: fill-in
    difficulty: 2
    concept: strings
    subconcept: indexing
    level: practice
    prereqs: [basics]
    pattern: indexing
    objective: Access last character with negative index
    prompt: Fill in the index for the last character of {{item_singular}}_name (use negative indexing)
    template: "last_char = {{item_singular}}_name[___]"
    blank_position: 0
    expected_answer: "-1"
    accepted_solutions: ["-1"]
    hints:
      - Negative indices count from the end of {{item_singular}}
      - -1 is always the last {{item_singular}} element
    tags: [strings, indexing]

  - slug: string-slice-start-fill
    title: Slice from Start
    type: fill-in
    difficulty: 2
    concept: strings
    subconcept: slicing
    level: intro
    prereqs: [indexing]
    pattern: indexing
    objective: Slice first N characters
    prompt: Fill in the slice notation for the first 3 characters of {{item_singular}}_name
    template: "prefix = {{item_singular}}_name[___]"
    blank_position: 0
    expected_answer: ":3"
    accepted_solutions: [":3", "0:3"]
    hints:
      - Omitting start defaults to 0 for {{item_singular}}
      - End index is exclusive for {{item_plural}} (stops before it)
    tags: [strings, slicing]

  - slug: string-slice-end-fill
    title: Slice from End
    type: fill-in
    difficulty: 2
    concept: strings
    subconcept: slicing
    level: practice
    prereqs: [indexing]
    pattern: indexing
    objective: Slice last N characters
    prompt: Fill in the slice notation for the last 3 characters of {{item_singular}}_name
    template: "suffix = {{item_singular}}_name[___]"
    blank_position: 0
    expected_answer: "-3:"
    accepted_solutions: ["-3:"]
    hints:
      - Negative indices work in {{item_singular}} slices too
      - Omitting end goes to the end of the {{item_singular}} string
    tags: [strings, slicing]

  - slug: string-upper-fill
    title: Uppercase Method
    type: fill-in
    difficulty: 1
    concept: strings
    subconcept: string-methods
    level: intro
    prereqs: [basics]
    pattern: invocation
    objective: Convert to uppercase
    prompt: Fill in the method that converts {{item_singular}}_name to uppercase
    template: "loud_{{item_singular}} = {{item_singular}}_name.___()"
    blank_position: 0
    expected_answer: "upper"
    accepted_solutions: ["upper"]
    hints:
      - Which string method converts to uppercase?
      - lower() does the opposite
    tags: [strings, methods]

  - slug: string-strip-fill
    title: Strip Whitespace
    type: fill-in
    difficulty: 2
    concept: strings
    subconcept: string-methods
    level: practice
    prereqs: [basics]
    pattern: invocation
    objective: Remove surrounding whitespace
    prompt: Fill in the method that removes whitespace from {{item_singular}}_input
    template: "clean_{{item_singular}} = {{item_singular}}_input.___()"
    blank_position: 0
    expected_answer: "strip"
    accepted_solutions: ["strip"]
    hints:
      - This method removes whitespace from both ends
      - Commonly used when processing user input
    tags: [strings, methods]

  - slug: fstring-basic-fill
    title: F-String Variable
    type: fill-in
    difficulty: 1
    concept: strings
    subconcept: fstrings
    level: intro
    prereqs: [basics]
    pattern: construction
    objective: Use f-string for variable interpolation
    prompt: "Given {{item_singular}}_name = \"{{item_example}}\", fill in the variable to interpolate"
    template: "greeting = f\"Hello, {___}!\""
    blank_position: 0
    expected_answer: "{{item_singular}}_name"
    hints:
      - Put the variable name inside the curly braces
      - The variable's value will replace the placeholder
    tags: [strings, fstrings]

  - slug: fstring-expression-fill
    title: F-String Expression
    type: fill-in
    difficulty: 2
    concept: strings
    subconcept: fstrings
    level: practice
    prereqs: [basics]
    pattern: construction
    objective: Use expression in f-string
    prompt: Fill in the operator to double the {{item_singular}}_count value
    template: "result = f\"Double {{item_plural}} is {{{item_singular}}_count ___ 2}\""
    blank_position: 0
    expected_answer: "*"
    accepted_solutions: ["*"]
    hints:
      - F-strings can contain expressions
      - Which operator multiplies two numbers?
    tags: [strings, fstrings]

  # --- Predict-output Exercises ---

  - slug: string-predict-len
    title: String Length
    type: predict
    difficulty: 1
    concept: strings
    subconcept: basics
    level: intro
    prereqs: [variables]
    pattern: invocation
    objective: Predict len() result
    prompt: What does this len() code print?
    code: |
      {{item_singular}}_name = "hello"
      print(len({{item_singular}}_name))
    expected_answer: "5"
    accepted_solutions: []
    hints:
      - len() counts all {{item_singular}} characters
      - Including spaces if there were any
    tags: [strings, len]

  - slug: string-predict-concat
    title: String Concatenation
    type: predict
    difficulty: 2
    concept: strings
    subconcept: basics
    level: practice
    prereqs: [variables]
    pattern: construction
    objective: Predict concatenation result
    prompt: What does this string concatenation print?
    code: |
      {{attr_key_1}} = "{{entity_name}}"
      {{attr_key_2}} = "{{item_example}}"
      print({{attr_key_1}} + " " + {{attr_key_2}})
    expected_answer: "{{entity_name}} {{item_example}}"
    accepted_solutions: []
    hints:
      - + joins strings exactly as they are
      - The middle " " adds a space between them
    tags: [strings, concatenation]

  - slug: string-predict-index
    title: String Index
    type: predict
    difficulty: 1
    concept: strings
    subconcept: indexing
    level: intro
    prereqs: [basics]
    pattern: indexing
    objective: Predict character at index
    prompt: What does this string indexing print?
    code: |
      {{item_singular}}_name = "hello"
      print({{item_singular}}_name[2])
    expected_answer: "l"
    accepted_solutions: []
    hints:
      - "Count from 0: h=0, e=1, l=2, l=3, o=4"
      - Index 2 is the third character
    tags: [strings, indexing]

  - slug: string-predict-negative
    title: Negative Index
    type: predict
    difficulty: 2
    concept: strings
    subconcept: indexing
    level: practice
    prereqs: [basics]
    pattern: indexing
    objective: Predict negative index result
    prompt: What does this negative indexing print?
    code: |
      {{item_singular}}_name = "hello"
      print({{item_singular}}_name[-2])
    expected_answer: "l"
    accepted_solutions: []
    hints:
      - -1 is last, -2 is second to last
      - "In 'hello': h-e-l-l-o where l is at -2"
    tags: [strings, indexing]

  - slug: string-predict-slice
    title: String Slice
    type: predict
    difficulty: 2
    concept: strings
    subconcept: slicing
    level: intro
    prereqs: [indexing]
    pattern: indexing
    objective: Predict slice result
    prompt: What does this slice code print?
    code: |
      {{item_singular}}_name = "hello"
      print({{item_singular}}_name[1:4])
    expected_answer: "ell"
    accepted_solutions: []
    hints:
      - Slice includes start, excludes end
      - Index 1 is 'e', goes up to but not including index 4
    tags: [strings, slicing]

  - slug: string-predict-reverse
    title: String Reverse
    type: predict
    difficulty: 2
    concept: strings
    subconcept: slicing
    level: practice
    prereqs: [indexing]
    pattern: indexing
    objective: Predict reverse slice result
    prompt: What does this reverse slice print?
    code: |
      {{item_singular}}_code = "abc"
      print({{item_singular}}_code[::-1])
    expected_answer: "cba"
    accepted_solutions: []
    hints:
      - Step of -1 reverses the string
      - Goes from end to start, one character at a time
    tags: [strings, slicing]

  - slug: string-predict-upper
    title: Uppercase Result
    type: predict
    difficulty: 1
    concept: strings
    subconcept: string-methods
    level: intro
    prereqs: [basics]
    pattern: invocation
    objective: Predict upper() result
    prompt: What does this .upper() code print?
    code: |
      {{item_singular}}_name = "hello"
      print({{item_singular}}_name.upper())
    expected_answer: "HELLO"
    accepted_solutions: []
    hints:
      - upper() converts all letters to uppercase
      - Non-letter characters stay the same
    tags: [strings, methods]

  - slug: string-predict-replace
    title: Replace Result
    type: predict
    difficulty: 2
    concept: strings
    subconcept: string-methods
    level: practice
    prereqs: [basics]
    pattern: invocation
    objective: Predict replace() result
    prompt: What does this .replace() code print?
    code: |
      {{item_singular}}_text = "hello world"
      print({{item_singular}}_text.replace("l", "L"))
    expected_answer: "heLLo worLd"
    accepted_solutions: []
    hints:
      - replace() changes all occurrences
      - Count the 'l's - there are 3 of them
    tags: [strings, methods]

  - slug: fstring-predict-basic
    title: F-String Output
    type: predict
    difficulty: 1
    concept: strings
    subconcept: fstrings
    level: intro
    prereqs: [basics]
    pattern: construction
    objective: Predict f-string output
    prompt: What does this f-string code print?
    code: |
      {{item_singular}}_name = "{{item_example}}"
      {{item_singular}}_count = 30
      print(f"{{{item_singular}}_name} is {{{item_singular}}_count}")
    expected_answer: "{{item_example}} is 30"
    accepted_solutions: []
    hints:
      - Variables in {} are replaced with their values
      - Numbers are automatically converted to strings
    tags: [strings, fstrings]

  - slug: fstring-predict-expr
    title: F-String Expression
    type: predict
    difficulty: 2
    concept: strings
    subconcept: fstrings
    level: practice
    prereqs: [basics]
    pattern: construction
    objective: Predict f-string with expression
    prompt: What does this f-string expression print?
    code: |
      {{item_singular}}_count = 5
      print(f"Double {{item_plural}} is {{{item_singular}}_count * 2}")
    expected_answer: "Double {{item_plural}} is 10"
    accepted_solutions: []
    hints:
      - Expressions in {} are evaluated
      - 5 * 2 = 10, which gets inserted into the string
    tags: [strings, fstrings]

  - slug: string-method-dynamic
    objective: Predict the result of a string method call
    title: Dynamic String Method
    difficulty: 1
    concept: strings
    subconcept: string-methods
    level: intro
    prereqs: [strings.basics]
    type: predict
    pattern: invocation
    generator: string-ops
    prompt: 'What does "{{original}}".{{method}}() return?'
    code: |
      s = "{{original}}"
      print(s.{{method}}())
    expected_answer: "{{result}}"
    hints:
      - Apply the string method mentally
      - Think about what {{method}}() does to each character
    tags: [strings, methods, dynamic]

  # --- Premium F-String Exercises (using string-format generator) ---
  - slug: fstring-greeting-dynamic
    objective: Predict the output of an f-string with name and age
    title: Dynamic F-String Greeting
    difficulty: 2
    concept: strings
    subconcept: fstrings
    level: practice
    prereqs: [strings.fstrings]
    type: predict
    pattern: construction
    generator: string-format
    prompt: "What does this code print?"
    code: "{{code}}"
    expected_answer: "{{result}}"
    hints:
      - Variables in curly braces get substituted
      - The f prefix enables string interpolation
    tags: [strings, fstrings, dynamic]
    target_construct:
      type: f-string
      feedback: "F-strings make string formatting cleaner and more readable"

  - slug: fstring-write-dynamic
    objective: Write an f-string that produces the expected output
    title: Dynamic F-String Write
    difficulty: 2
    concept: strings
    subconcept: fstrings
    level: practice
    prereqs: [strings.fstrings]
    type: write
    pattern: construction
    generator: string-format
    prompt: "Write an f-string that produces: {{result}}"
    expected_answer: "{{fstring}}"
    hints:
      - Use f before the string quote
      - Put variable names in curly braces
    tags: [strings, fstrings, dynamic, write]
    target_construct:
      type: f-string
      feedback: "Try using f-strings for cleaner formatting"

  # --- Advanced String Slicing (using string-slice generator) ---
  - slug: string-slice-advanced-dynamic
    objective: Predict the result of an advanced string slice operation
    title: Dynamic Advanced String Slice
    difficulty: 2
    concept: strings
    subconcept: slicing
    level: practice
    prereqs: [strings.slicing]
    type: predict
    pattern: slicing
    generator: string-slice
    prompt: "What does this code print?"
    code: "{{code}}"
    expected_answer: "{{result}}"
    hints:
      - "This is {{description}}"
      - Remember that slice notation is [start:end:step]
    tags: [strings, slicing, dynamic]
    target_construct:
      type: slice
      feedback: "String slicing is powerful for extracting substrings"

  - slug: string-reverse-dynamic
    objective: Write code to reverse a string using slicing
    title: Dynamic String Reverse
    difficulty: 2
    concept: strings
    subconcept: slicing
    level: edge
    prereqs: [strings.slicing]
    type: write
    pattern: slicing
    generator: string-slice
    prompt: "Reverse the string '{{word}}' using slice notation"
    expected_answer: '"{{word}}"[::-1]'
    accepted_solutions:
      - '"{{word}}"[::-1]'
      - "'{{word}}'[::-1]"
      - "s[::-1]"
    hints:
      - Use step of -1 to reverse
      - The pattern is [::-1]
    tags: [strings, slicing, reverse, dynamic]
    target_construct:
      type: slice
      feedback: "[::-1] is the Pythonic way to reverse a string"

  # --- Debug Exercises (Pitfall Subconcepts) ---